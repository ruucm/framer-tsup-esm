var w=Object.create;var l=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var $=(e,t)=>{for(var o in t)l(e,o,{get:t[o],enumerable:!0})},d=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of v(t))!E.call(e,r)&&r!==o&&l(e,r,{get:()=>t[r],enumerable:!(n=g(t,r))||n.enumerable});return e};var h=(e,t,o)=>(o=e!=null?w(y(e)):{},d(t||!e||!e.__esModule?l(o,"default",{value:e,enumerable:!0}):o,e)),C=e=>d(l({},"__esModule",{value:!0}),e);var u=(e,t,o)=>new Promise((n,r)=>{var s=c=>{try{a(o.next(c))}catch(f){r(f)}},m=c=>{try{a(o.throw(c))}catch(f){r(f)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,m);a((o=o.apply(e,t)).next())});var _={};$(_,{useRealtimeComponent:()=>L});module.exports=C(_);var i=h(require("react"));var R=require("socket.io-client"),k={connect(e){return new Promise((t,o)=>{let n=(0,R.io)(e);n.on("connect",()=>(console.log("[framer-live-esm] Socket connected"),t(n))),n.on("reconnect",r=>{console.error("[framer-live-esm] Socket reconnected")}),n.on("connect_error",r=>(console.error(`[framer-live-esm] Socket had a connection error: ${r.message}`,n),o(r))),n.on("connect_timeout",r=>(console.error(`[framer-live-esm] Socket connection timed out: ${r.message}`),o(r)))})}};var S="http://127.0.0.1:8001";function p(){return u(this,null,function*(){if(!window.framerRealtimeSocket)try{console.log(`[framer-live-esm] Connecting on ${S}`);let e=yield k.connect(S);console.log("[framer-live-esm] Created socket"),window.framerRealtimeSocket=e}catch(e){console.error("[framer-live-esm] Error trying to create socket ",e)}})}function L(e,t){let[,o]=i.useState(0),n=i.useRef(0),r=i.useRef(null);return i.useLayoutEffect(()=>{let s=a=>u(this,null,function*(){console.log(`[framer-live-esm] Build complete, refreshing ${t}`);let c=yield import(`http://127.0.0.1:8000/${t}.mjs?${n.current}`);n.current++,r.current=c[t],o(n.current)}),m=(a=0)=>{if(!window.framerRealtimeSocket){setTimeout(()=>m(a+1),a+500);return}window.framerRealtimeSocket.on("build",s)};return m(),()=>{window.framerRealtimeSocket&&window.framerRealtimeSocket.off("build",s)}},[t]),i.useEffect(()=>{p()},[]),r.current||e}0&&(module.exports={useRealtimeComponent});
